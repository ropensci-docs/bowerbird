<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This function provides similar, but simplified, functionality to the the command-line wget utility. It is based on the rvest package."><title>A recursive download utility — bb_rget • bowerbird</title><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://docs.ropensci.org/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="A recursive download utility — bb_rget"><meta property="og:description" content="This function provides similar, but simplified, functionality to the the command-line wget utility. It is based on the rvest package."><meta property="og:image" content="https://docs.ropensci.org/bowerbird/logo.png"><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Matomo --><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css"><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript><!-- End Matomo Code --></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
    <a class="navbar-brand me-2" href="../index.html">bowerbird</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.15.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"></ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="nav-link" href="../articles/bowerbird.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/data_provenance.html">Data provenance</a>
  </div>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ropensci/bowerbird/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>A recursive download utility</h1>
      <small class="dont-index">Source: <a href="https://github.com/ropensci/bowerbird/blob/HEAD/R/rget.R" class="external-link"><code>R/rget.R</code></a></small>
      <div class="d-none name"><code>bb_rget.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function provides similar, but simplified, functionality to the the command-line <code>wget</code> utility. It is based on the <code>rvest</code> package.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">bb_rget</span><span class="op">(</span></span>
<span>  <span class="va">url</span>,</span>
<span>  level <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  wait <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  accept_follow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"(/|\\.html?)$"</span><span class="op">)</span>,</span>
<span>  reject_follow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  accept_download <span class="op">=</span> <span class="fu">bb_rget_default_downloads</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  accept_download_extra <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  reject_download <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="va">user</span>,</span>
<span>  <span class="va">password</span>,</span>
<span>  clobber <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  no_parent <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  no_check_certificate <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  relative <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  remote_time <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  show_progress <span class="op">=</span> <span class="va">verbose</span>,</span>
<span>  debug <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  dry_run <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  stop_on_download_error <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">force_local_filename</span>,</span>
<span>  use_url_directory <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  no_host <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  cut_dirs <span class="op">=</span> <span class="fl">0L</span>,</span>
<span>  link_css <span class="op">=</span> <span class="st">"a"</span>,</span>
<span>  <span class="va">curl_opts</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">bb_rget_default_downloads</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>url</dt>
<dd><p>string: the URL to retrieve</p></dd>


<dt>level</dt>
<dd><p>integer &gt;=0: recursively download to this maximum depth level. Specify 0 for no recursion</p></dd>


<dt>wait</dt>
<dd><p>numeric &gt;=0: wait this number of seconds between successive retrievals. This option may help with servers that block users making too many requests in a short period of time</p></dd>


<dt>accept_follow</dt>
<dd><p>character: character vector with one or more entries. Each entry specifies a regular expression that is applied to the complete URL. URLs matching all entries will be followed during the spidering process. Note that the first URL (provided via the <code>url</code> parameter) will always be visited, unless it matches the download criteria</p></dd>


<dt>reject_follow</dt>
<dd><p>character: as for <code>accept_follow</code>, but specifying URL regular expressions to reject</p></dd>


<dt>accept_download</dt>
<dd><p>character: character vector with one or more entries. Each entry specifies a regular expression that is applied to the complete URL. URLs that match all entries will be accepted for download. By default the <code>accept_download</code> parameter is that returned by <code>bb_rget_default_downloads</code>: use <code>bb_rget_default_downloads()</code> to see what that is</p></dd>


<dt>accept_download_extra</dt>
<dd><p>character: character vector with one or more entries. If provided, URLs will be accepted for download if they match all entries in <code>accept_download</code> OR all entries in <code>accept_download_extra</code>. This is a convenient method to add one or more extra download types, without needing to re-specify the defaults in <code>accept_download</code></p></dd>


<dt>reject_download</dt>
<dd><p>character: as for <code>accept_regex</code>, but specifying URL regular expressions to reject</p></dd>


<dt>user</dt>
<dd><p>string: username used to authenticate to the remote server</p></dd>


<dt>password</dt>
<dd><p>string: password used to authenticate to the remote server</p></dd>


<dt>clobber</dt>
<dd><p>numeric: 0=do not overwrite existing files, 1=overwrite if the remote file is newer than the local copy, 2=always overwrite existing files</p></dd>


<dt>no_parent</dt>
<dd><p>logical: if <code>TRUE</code>, do not ever ascend to the parent directory when retrieving recursively. This is <code>TRUE</code> by default, bacause it guarantees that only the files below a certain hierarchy will be downloaded. Note that this check only applies to links on the same host as the starting <code>url</code>. If that URL links to files on another host, those links will be followed (unless <code>relative = TRUE</code>)</p></dd>


<dt>no_check_certificate</dt>
<dd><p>logical: if <code>TRUE</code>, don't check the server certificate against the available certificate authorities. Also don't require the URL host name to match the common name presented by the certificate. This option might be useful if trying to download files from a server with an expired certificate, but it is clearly a security risk and so should be used with caution</p></dd>


<dt>relative</dt>
<dd><p>logical: if <code>TRUE</code>, only follow relative links. This can be useful for restricting what is downloaded in recursive mode</p></dd>


<dt>remote_time</dt>
<dd><p>logical: if <code>TRUE</code>, attempt to set the local file's time to that of the remote file</p></dd>


<dt>verbose</dt>
<dd><p>logical: print trace output?</p></dd>


<dt>show_progress</dt>
<dd><p>logical: if <code>TRUE</code>, show download progress</p></dd>


<dt>debug</dt>
<dd><p>logical: if <code>TRUE</code>, will print additional debugging information. If bb_rget is not behaving as expected, try setting this to <code>TRUE</code></p></dd>


<dt>dry_run</dt>
<dd><p>logical: if <code>TRUE</code>, spider the remote site and work out which files would be downloaded, but don't download them</p></dd>


<dt>stop_on_download_error</dt>
<dd><p>logical: if <code>TRUE</code>, the download process will stop if any file download fails. If <code>FALSE</code>, the process will issue a warning and continue to the next file to download</p></dd>


<dt>force_local_filename</dt>
<dd><p>string: if provided, then the <code>url</code> will be treated as a single URL (no recursion will be conducted). It will be downloaded to a file with this name, in a local directory determined by the <code>url</code></p></dd>


<dt>use_url_directory</dt>
<dd><p>logical: if <code>TRUE</code>, files will be saved into a local directory that follows the URL structure (e.g. files from <code>http://some.where/place</code> will be saved into directory <code>some.where/place</code>). If <code>FALSE</code>, files will be saved into the current directory</p></dd>


<dt>no_host</dt>
<dd><p>logical: if <code>use_url_directory = TRUE</code>, specifying <code>no_host = TRUE</code> will remove the host name from the directory (e.g. files from files from <code>http://some.where/place</code> will be saved into directory <code>place</code>)</p></dd>


<dt>cut_dirs</dt>
<dd><p>integer: if <code>use_url_directory = TRUE</code>, specifying <code>cut_dirs</code> will remove this many directory levels from the path of the local directory where files will be saved (e.g. if <code>cut_dirs = 2</code>, files from <code>http://some.where/place/baa/haa</code> will be saved into directory <code>some.where/haa</code>. if <code>cut_dirs = 1</code> and <code>no_host = TRUE</code>, files from <code>http://some.where/place/baa/haa</code> will be saved into directory <code>baa/haa</code>)</p></dd>


<dt>link_css</dt>
<dd><p>string: css selector that identifies links (passed as the <code>css</code> parameter to <code><a href="https://rvest.tidyverse.org/reference/html_element.html" class="external-link">html_elements</a></code>). Note that link elements must have an <code>href</code> attribute</p></dd>


<dt>curl_opts</dt>
<dd><p>named list: options to use with <code>curl</code> downloads, passed to the <code>.list</code> parameter of <code><a href="https://rdrr.io/pkg/curl/man/handle.html" class="external-link">curl::new_handle</a></code></p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>a list with components 'ok' (TRUE/FALSE), 'files', and 'message' (error or other messages)</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>NOTE: this is still somewhat experimental.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg"></div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="https://hachyderm.io/@ropensci" target="_blank" class="external-link"><div class="icon fab fa-mastodon"></div></a>
                        <a href="https://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul><h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul></div>
                    <div class="col-md-3 col-sm-4">
                        <ul><h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul></div>
                    <div class="col-md-2 col-sm-4">
                        <ul><h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul></div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" class="external-link">NumFOCUS</a>.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->


    </footer></div>

  

  

  </body></html>

